## Go Ethereum Code Analysis

一.以太坊逻辑分层

应用层、合约层、激励层、共识层、网络层、数据层

二.分层信息

1.数据层：存储以太坊区块链的所有数据，本质是一数据；

2.网络层：P2P网络，在以太坊中网络层使用kad；

3.共识层：规定通过何种方式实现交易记录的过程；

4.激励层：以太坊采用POW(与比特币不同)，实现挖矿奖励机制；

5.合约层：平台层，通过合约层开发任意的DAPP，实现完整的区块链系统，在以太坊中，合约主要包括EVM和智能合约；

6.应用层：以太坊最上层。主要使用truffle和web3.js技术。

三.以太坊源码

```
account				实现的是以太坊账户管理
bmt					二进制的Merkle树的实现
build				实现编译和构建相关脚本与配置
cmd					命令行工具
common				提供公共的工具类
consensus			以太坊共识算法类
core				以太坊核心的数据结构和算法（区块、虚拟机、区块链...）
crypto				以太坊加密算法的实现
eth					以太坊协议
ethClient			以太坊RPC客户端
ethdb				以太坊数据库：包含持久化数据库与测试使用的内存数据库
ethStatus			以太坊网络状态的报告
event				以太坊事件
les					以太坊轻量级协议
light				为以太坊轻量级客户端提供索引功能
log					提供日志功能
miner				以太坊挖矿
mobile				移动端相关管理
node				以太坊各种类型的节点
p2p					以太坊主要的网络协议
rlp					以太坊系列化处理
swarm				以太坊swarm网络处理
tests				测试
trie				以太坊主要数据结构帕特里夏树的实现
whisper				提供whisper节点协议，主要用于以太坊DAPP之间的通信
```



